# -*- coding: utf-8 -*-
"""prepocess.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1deZ9NguR2AzT_9sKohailAoK6ZKHLmoG

# A recommendation system is a platform that provides its users with various contents based on their preferences and likings. A recommendation system takes the information about the user as an input. This information can be in the form of the past usage of product or the ratings that were provided to the product.

# Create a Content Based Recommender System and Create Web Application in Flask and finally Deploy on Heroku Cloud.
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import sklearn
import seaborn as sns
import warnings
warnings.filterwarnings("ignore")

df= pd.read_csv("/content/movie_metadata.csv")
df.head()

df.shape

df.columns

df.dtypes

df.describe()

df.isnull().sum()

df['language'].unique()

df.corr()

plt.figure(figsize=(15,5))
sns.heatmap(df.corr(),annot=True,fmt='.2g')

new_df=df.drop(['num_critic_for_reviews',
       'duration', 'director_facebook_likes', 'actor_3_facebook_likes',
        'actor_1_facebook_likes', 'gross',
       'num_voted_users',
       'cast_total_facebook_likes', 'facenumber_in_poster',
       'plot_keywords', 'movie_imdb_link', 'num_user_for_reviews', 'language',
       'country', 'content_rating', 'budget', 'title_year',
       'actor_2_facebook_likes', 'imdb_score', 'aspect_ratio',
       'movie_facebook_likes'],axis=1)

new_df.dropna(inplace=True)
new_df['genres']=new_df['genres'].apply(lambda a: str(a).replace('|',' '))
new_df['movie_title']=new_df['movie_title'].apply(lambda a: a[:-1])
new_df['combined']=new_df['director_name']+' ' +new_df['actor_2_name']+' '+new_df['actor_1_name']+ ' ' +new_df['genres']+' '+new_df['actor_3_name']

new_df.to_csv('movie_finalized_data.csv')
new_df.head()

